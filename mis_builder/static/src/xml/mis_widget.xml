<template>
    <t t-name="mis_builder.MisReport">
        <p> </p>
        <table t-if="widget.mis_report_data" class="oe_list_content mis_builder">
            <thead>
                <tr class="oe_list_header_columns">
                    <t t-foreach="widget.mis_report_data.header" t-as="h">
                        <th class="oe_list_header_char">
                            <div>
                                <t t-esc="h_value.kpi_name"/>
                            </div>
                        </th>
                        <th t-foreach="h_value.cols" t-as="col" class="oe_list_header_char mis_builder_ralign" t-att="{'style': col_value.head_css_style}">
                            <div>
                                <t t-esc="col.name"/>
                            </div>
                            <div>
                                <t t-esc="col.date"/>
                            </div>
                        </th>
                    </t>
                </tr>
            </thead>
            <tbody>
                <tr t-foreach="widget.mis_report_data.content" t-as="c">
                    <th t-att="{'style': c_value.default_style}">
                        <div>
                            <t t-esc="c_value.kpi_name"/>
                        </div>
                    </th>
                    <t t-foreach="c_value.cols" t-as="value">
                    	<t t-if="value_value.style">
                        	<th class="mis_builder_ralign" t-att="{'style': value_value.style, 'title': value_value.val_c}">
                         
                                <t t-if="value_value.drilldown">
                                    <a href="javascript:void(0)"
                                       class="mis_builder_drilldown"
                                       t-att-data-drilldown="JSON.stringify(value_value.drilldown)"
                                       t-att-data-period-id="JSON.stringify(value_value.period_id)"
                                       t-att-data-expr="JSON.stringify(value_value.expr)">
                                        <t t-esc="value_value.val_r"/>
                                    </a>
                                </t>
                                <t t-if="!value_value.drilldown">
                                    <t t-esc="value_value.val_r"/>
                                </t>
                        </th>
                        </t>
                        <t t-if="!value_value.style">
                        	<th class="mis_builder_ralign" t-att="{'style': c_value.default_style, 'title': value_value.val_c}">
                         
                                <t t-if="value_value.drilldown">
                                    <a href="javascript:void(0)"
                                       class="mis_builder_drilldown"
                                       t-att-data-drilldown="JSON.stringify(value_value.drilldown)"
                                       t-att-data-period-id="JSON.stringify(value_value.period_id)"
                                       t-att-data-expr="JSON.stringify(value_value.expr)">
                                        <t t-esc="value_value.val_r"/>
                                    </a>
                                </t>
                                <t t-if="!value_value.drilldown">
                                    <t t-esc="value_value.val_r"/>
                                </t>
                        </th>
                        </t>
                    </t>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td class="oe_list_footer" />
                    <t t-foreach="widget.mis_report_data.header" t-as="f">
                        <td t-foreach="f_value.cols" class="oe_list_footer" />
                    </t>
                </tr>
            </tfoot>
        </table>
    </t>
</template>
