<template>
    <t t-name="mis_builder.MisReport">
        <p> </p>
        <table t-if="widget.mis_report_data" class="oe_list_content">
            <thead>
                <tr class="oe_list_header_columns">
                    <th class="oe_list_header_char"></th>
                    <t t-foreach="widget.mis_report_data.header" t-as="h">
                    <th t-foreach="h_value.cols" t-as="header" class="oe_list_header_char mis_builder_ralign">
                        <div>
                            <t t-esc="header.name"/>
                        </div>
                        <div>
                            <t t-esc="header.date"/>
                        </div>
                    </th>
                    </t>
                </tr>
            </thead>
            <tbody>
                <tr t-foreach="widget.mis_report_data.content" t-as="c">
                    <td t-att="{'style': c_value.default_style}">
                        <div>
                            <t t-esc="c_value.kpi_name"/>
                        </div>
                    </td>
                    <t t-foreach="c_value.cols" t-as="value">
                        <td class="mis_builder_ralign" t-att="{'style': c_value.default_style}">
                            <div t-att="{'style': value_value.style, 'title': value_value.val_c}">
                                <t t-if="value_value.drilldown">
                                    <a href="javascript:void(0)"
                                       class="mis_builder_drilldown"
                                       t-att-data-val="JSON.stringify(value_value.val)"
                                       t-att-data-val-c="JSON.stringify(value_value.val_c)"
                                       t-att-data-period-id="JSON.stringify(value_value.period_id)"
                                       t-att-data-period-name="JSON.stringify(value_value.period_name)">
                                        <t t-esc="value_value.val_r"/>
                                    </a>
                                </t>
                                <t t-if="!value_value.drilldown">
                                    <t t-esc="value_value.val_r"/>
                                </t>
                            </div>
                        </td>
                    </t>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td class="oe_list_footer" />
                    <t t-foreach="widget.mis_report_data.header" t-as="f">
                        <td t-foreach="f_value.cols" class="oe_list_footer" />
                    </t>
                </tr>
            </tfoot>
        </table>
    </t>
</template>