<template>
    <t t-name="mis_builder.MisReport">
        <div class="oe_mis_builder_content">
            <t t-if="widget.mis_report_data">
                <h2><t t-esc="widget.mis_report_data.report_name" /></h2>
                <div class="oe_mis_builder_buttons oe_right oe_button_box">
                    <button class="oe_mis_builder_generate_content btn btn-sm oe_button"><span class="fa fa-refresh"/> Refresh</button>
                    <button class="oe_mis_builder_print btn btn-sm oe_button"><span class="fa fa-print"/> Print</button>
                    <button class="oe_mis_builder_export btn btn-sm oe_button"><span class="fa fa-download"/>Export</button>
                    <button style="display: none;" class="oe_mis_builder_settings btn btn-sm oe_button"><span class="fa fa-cog"/> Settings</button>
                </div>
                <t t-if="widget.display == 'table'">
                <table class="oe_list_content o_list_view table table-condensed table-striped mis_builder">
                    <thead>
                        <tr t-foreach="widget.mis_report_data.header" t-as="row" class="oe_list_header_columns">
                            <th class="oe_list_header_char">
                            </th>
                            <th t-foreach="row.cols" t-as="col" class="oe_list_header_char mis_builder_collabel" t-att-colspan="col.colspan">
                                  <t t-esc="col.label"/>
                                  <t t-if="col.description">
                                    <br/>
                                    <t t-esc="col.description"/>
                                  </t>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr t-foreach="widget.mis_report_data.body" t-as="row">
                            <td t-att="{'style': row.style}">
                                <t t-esc="row.label"/>
                                <t t-if="row.description">
                                  <br/>
                                  <t t-esc="row.description"/>
                                </t>
                            </td>
                            <td t-foreach="row.cells" t-as="cell" t-att="{'style': cell.style, 'title': cell.val_c}" class="mis_builder_amount">
                                  <t t-if="cell.drilldown_arg">
                                      <a href="javascript:void(0)"
                                          class="mis_builder_drilldown"
                                          t-att-data-drilldown="JSON.stringify(cell.drilldown_arg)"
                                      >
                                          <t t-esc="cell.val_r"/>
                                      </a>
                                  </t>
                                  <t t-if="!cell.drilldown_arg">
                                      <t t-esc="cell.val_r"/>
                                  </t>
                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                      <tr></tr>
                    </tfoot>
                </table></t>
                <t t-if="widget.display != 'table'">
                    <div class="o_graph">
                        <div class="o_graph_svg_container mis_builder_svg">
                            <svg></svg>
                        </div>
                    </div>
                </t>
            </t>
        </div>
    </t>
</template>
